# Variable mappings across tax calculation systems
#
# The `statute` field references cosilico-us statute definitions.
# Format: {title}/{section}.rac::{variable_name}
#
# The variable name after :: is used as the Cosilico output column,
# unless `cosilico_override` specifies a different column name
# (needed when CPS runner uses non-standard names like cos_*).

variables:
  eitc:
    title: Earned Income Tax Credit
    statute: 26/32.rac::eitc
    cosilico_override: cos_eitc  # TODO: fix CPS runner to use statute name
    policyengine: eitc
    taxcalc: eitc
    taxsim: v25

  ctc:
    title: Child Tax Credit (Non-refundable)
    statute: 26/24.rac::non_refundable_ctc
    cosilico_override: cos_ctc_nonref
    policyengine: non_refundable_ctc
    taxcalc: c07220
    taxsim: v22

  ctc_refundable:
    title: Additional Child Tax Credit (Refundable)
    statute: 26/24.rac::refundable_ctc
    cosilico_override: cos_ctc_ref
    policyengine: refundable_ctc
    taxcalc: c11070
    taxsim: actc

  ctc_total:
    title: Child Tax Credit (Total)
    statute: 26/24.rac::total_child_tax_credit
    cosilico_override: cos_ctc_total
    policyengine: ctc
    taxcalc: null
    taxsim: null
    derived: true

  income_tax:
    title: Federal Income Tax
    statute: 26/1.rac::income_tax
    cosilico_override: cos_income_tax
    policyengine: income_tax_before_credits
    taxcalc: iitax
    taxsim: fiitax

  income_tax_before_credits:
    title: Income Tax Before Credits
    statute: 26/1.rac::income_tax_before_credits
    cosilico_override: cos_income_tax
    policyengine: income_tax_before_credits
    taxcalc: c05800
    taxsim: v19

  se_tax:
    title: Self-Employment Tax
    statute: 26/1401/a.rac::self_employment_tax
    cosilico_override: cos_se_tax
    policyengine: self_employment_tax
    policyengine_entity: person
    taxcalc: setax
    taxsim: null

  niit:
    title: Net Investment Income Tax
    statute: 26/1411/a.rac::niit
    cosilico_override: cos_niit
    policyengine: net_investment_income_tax
    taxcalc: niit
    taxsim: niit

  agi:
    title: Adjusted Gross Income
    statute: 26/62/a.rac::adjusted_gross_income
    policyengine: adjusted_gross_income
    taxcalc: c00100
    taxsim: v10

  taxable_income:
    title: Taxable Income
    statute: 26/63.rac::taxable_income
    policyengine: taxable_income
    taxcalc: c04800
    taxsim: v18

  standard_deduction:
    title: Standard Deduction
    statute: 26/63.rac::standard_deduction
    cosilico_override: cos_standard_deduction
    policyengine: standard_deduction
    taxcalc: standard
    taxsim: v13

# TAXSIM input variable mappings
taxsim_inputs:
  taxsimid: record_id
  year: tax_year
  state: state_fips  # 0 = federal only
  mstat: filing_status  # 1=single, 2=joint, 3=separate, 4=HOH, 5=widow
  page: head_age
  sage: spouse_age
  depx: num_dependents
  dep13: num_children_under_13
  dep17: num_children_under_17
  dep18: num_children_under_18
  pwages: primary_wages
  swages: spouse_wages
  dividends: dividend_income
  intrec: interest_income
  stcg: short_term_capital_gains
  ltcg: long_term_capital_gains
  otherprop: other_property_income
  nonprop: non_property_income
  pensions: pension_income
  gssi: social_security_income
  ui: unemployment_income
  psemp: primary_self_employment_income
  ssemp: spouse_self_employment_income
  idtl: output_detail_level  # 0=basic, 2=full
